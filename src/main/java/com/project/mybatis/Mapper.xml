<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">


<mapper namespace="com.recoMapper">


<!-- 서브젝트별 db불러오기 -->
<select id="getLists" parameterType="String" resultType="com.project.meeting.reco.dto.RecoDTO">
select * from Recommend where subject=#{subject}
</select>

<update id="insertData" parameterType="com.project.meeting.reco.dto.RecoDTO">

	MERGE INTO Recommend
	USING DUAL ON (recoNum = #{recoNum})
	WHEN MATCHED THEN
	UPDATE SET
	subject = #{subject},keyword = #{keyword},
	title = #{title}, introduce = #{introduce},content = #{content},
	location = #{location},imgUrl = #{imgUrl, jdbcType=VARCHAR}
	WHEN NOT MATCHED THEN
	INSERT
	(recoNum,subject,keyword,title,
	introduce,content,location,imgUrl)
	VALUES
	(#{recoNum},#{subject},#{keyword},#{title},
	#{introduce},#{content},#{location},#{imgUrl, jdbcType=VARCHAR})
</update>


</mapper>